{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 158,
   "id": "cf166f6b",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Importing two libraries opencv and os.\n",
    "import cv2\n",
    "import os"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 159,
   "id": "3d4b79ae",
   "metadata": {},
   "outputs": [],
   "source": [
    "#Capturing live video from webcam.\n",
    "video=cv2.VideoCapture(0)\n",
    "#Importing haarcascade dataset.\n",
    "facedetect=cv2.CascadeClassifier(\"haarcascade_frontalface_default.xml\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 160,
   "id": "e6f6a85f",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Enter Your Name and Id:  Jhanvi_003\n"
     ]
    }
   ],
   "source": [
    "#Enter name and id.\n",
    "c=0\n",
    "nameid=str(input (\"Enter Your Name and Id:  \")).lower()\n",
    "path='images/'+nameid"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "id": "be695bb9",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Creating Images........./images/jhanvi_003/1.jpg\n",
      "Creating Images........./images/jhanvi_003/2.jpg\n",
      "Creating Images........./images/jhanvi_003/3.jpg\n",
      "Creating Images........./images/jhanvi_003/4.jpg\n",
      "Creating Images........./images/jhanvi_003/5.jpg\n",
      "Creating Images........./images/jhanvi_003/6.jpg\n",
      "Creating Images........./images/jhanvi_003/7.jpg\n",
      "Creating Images........./images/jhanvi_003/8.jpg\n",
      "Creating Images........./images/jhanvi_003/9.jpg\n",
      "Creating Images........./images/jhanvi_003/10.jpg\n",
      "Creating Images........./images/jhanvi_003/11.jpg\n",
      "Creating Images........./images/jhanvi_003/12.jpg\n",
      "Creating Images........./images/jhanvi_003/13.jpg\n",
      "Creating Images........./images/jhanvi_003/14.jpg\n",
      "Creating Images........./images/jhanvi_003/15.jpg\n",
      "Creating Images........./images/jhanvi_003/16.jpg\n",
      "Creating Images........./images/jhanvi_003/17.jpg\n",
      "Creating Images........./images/jhanvi_003/18.jpg\n",
      "Creating Images........./images/jhanvi_003/19.jpg\n",
      "Creating Images........./images/jhanvi_003/20.jpg\n",
      "Creating Images........./images/jhanvi_003/21.jpg\n",
      "Creating Images........./images/jhanvi_003/22.jpg\n",
      "Creating Images........./images/jhanvi_003/23.jpg\n",
      "Creating Images........./images/jhanvi_003/24.jpg\n",
      "Creating Images........./images/jhanvi_003/25.jpg\n",
      "Creating Images........./images/jhanvi_003/26.jpg\n",
      "Creating Images........./images/jhanvi_003/27.jpg\n",
      "Creating Images........./images/jhanvi_003/28.jpg\n",
      "Creating Images........./images/jhanvi_003/29.jpg\n",
      "Creating Images........./images/jhanvi_003/30.jpg\n",
      "Creating Images........./images/jhanvi_003/31.jpg\n",
      "Creating Images........./images/jhanvi_003/32.jpg\n",
      "Creating Images........./images/jhanvi_003/33.jpg\n",
      "Creating Images........./images/jhanvi_003/34.jpg\n",
      "Creating Images........./images/jhanvi_003/35.jpg\n",
      "Creating Images........./images/jhanvi_003/36.jpg\n",
      "Creating Images........./images/jhanvi_003/37.jpg\n",
      "Creating Images........./images/jhanvi_003/38.jpg\n",
      "Creating Images........./images/jhanvi_003/39.jpg\n",
      "Creating Images........./images/jhanvi_003/40.jpg\n",
      "Creating Images........./images/jhanvi_003/41.jpg\n",
      "Creating Images........./images/jhanvi_003/42.jpg\n",
      "Creating Images........./images/jhanvi_003/43.jpg\n",
      "Creating Images........./images/jhanvi_003/44.jpg\n",
      "Creating Images........./images/jhanvi_003/45.jpg\n",
      "Creating Images........./images/jhanvi_003/46.jpg\n",
      "Creating Images........./images/jhanvi_003/47.jpg\n",
      "Creating Images........./images/jhanvi_003/48.jpg\n",
      "Creating Images........./images/jhanvi_003/49.jpg\n",
      "Creating Images........./images/jhanvi_003/50.jpg\n",
      "Creating Images........./images/jhanvi_003/51.jpg\n",
      "Creating Images........./images/jhanvi_003/52.jpg\n",
      "Creating Images........./images/jhanvi_003/53.jpg\n",
      "Creating Images........./images/jhanvi_003/54.jpg\n",
      "Creating Images........./images/jhanvi_003/55.jpg\n",
      "Creating Images........./images/jhanvi_003/56.jpg\n",
      "Creating Images........./images/jhanvi_003/57.jpg\n",
      "Creating Images........./images/jhanvi_003/58.jpg\n",
      "Creating Images........./images/jhanvi_003/59.jpg\n",
      "Creating Images........./images/jhanvi_003/60.jpg\n",
      "Creating Images........./images/jhanvi_003/61.jpg\n",
      "Creating Images........./images/jhanvi_003/62.jpg\n",
      "Creating Images........./images/jhanvi_003/63.jpg\n",
      "Creating Images........./images/jhanvi_003/64.jpg\n",
      "Creating Images........./images/jhanvi_003/65.jpg\n",
      "Creating Images........./images/jhanvi_003/66.jpg\n",
      "Creating Images........./images/jhanvi_003/67.jpg\n",
      "Creating Images........./images/jhanvi_003/68.jpg\n",
      "Creating Images........./images/jhanvi_003/69.jpg\n",
      "Creating Images........./images/jhanvi_003/70.jpg\n",
      "Creating Images........./images/jhanvi_003/71.jpg\n",
      "Creating Images........./images/jhanvi_003/72.jpg\n",
      "Creating Images........./images/jhanvi_003/73.jpg\n",
      "Creating Images........./images/jhanvi_003/74.jpg\n",
      "Creating Images........./images/jhanvi_003/75.jpg\n",
      "Creating Images........./images/jhanvi_003/76.jpg\n",
      "Creating Images........./images/jhanvi_003/77.jpg\n",
      "Creating Images........./images/jhanvi_003/78.jpg\n",
      "Creating Images........./images/jhanvi_003/79.jpg\n",
      "Creating Images........./images/jhanvi_003/80.jpg\n",
      "Creating Images........./images/jhanvi_003/81.jpg\n",
      "Creating Images........./images/jhanvi_003/82.jpg\n",
      "Creating Images........./images/jhanvi_003/83.jpg\n",
      "Creating Images........./images/jhanvi_003/84.jpg\n",
      "Creating Images........./images/jhanvi_003/85.jpg\n",
      "Creating Images........./images/jhanvi_003/86.jpg\n",
      "Creating Images........./images/jhanvi_003/87.jpg\n",
      "Creating Images........./images/jhanvi_003/88.jpg\n",
      "Creating Images........./images/jhanvi_003/89.jpg\n",
      "Creating Images........./images/jhanvi_003/90.jpg\n",
      "Creating Images........./images/jhanvi_003/91.jpg\n",
      "Creating Images........./images/jhanvi_003/92.jpg\n",
      "Creating Images........./images/jhanvi_003/93.jpg\n",
      "Creating Images........./images/jhanvi_003/94.jpg\n",
      "Creating Images........./images/jhanvi_003/95.jpg\n",
      "Creating Images........./images/jhanvi_003/96.jpg\n",
      "Creating Images........./images/jhanvi_003/97.jpg\n",
      "Creating Images........./images/jhanvi_003/98.jpg\n",
      "Creating Images........./images/jhanvi_003/99.jpg\n",
      "Creating Images........./images/jhanvi_003/100.jpg\n",
      "Creating Images........./images/jhanvi_003/101.jpg\n"
     ]
    }
   ],
   "source": [
    "isExist=os.path.exists(path)\n",
    "if isExist:\n",
    "    print (\"Name Already Taken\")\n",
    "    nameid=str(input (\"Enter Your Name Again: \"))\n",
    "else:\n",
    "    os.makedirs(path)\n",
    "#Recognising faces and creating a grid.    \n",
    "while True:\n",
    "    ret,frame=video.read()\n",
    "    faces=facedetect.detectMultiScale(frame,1.3, 5) \n",
    "    for x,y,w,h in faces:\n",
    "        c=c+1\n",
    "        name='./images/'+nameid+'/'+ str(c) + '.jpg' \n",
    "        print(\"Creating Images........\"+name)\n",
    "        cv2.imwrite(name, frame[y:y+h,x:x+w])        \n",
    "        cv2.rectangle(frame, (x,y), (x+w, y+h), (0,255,0), 3)\n",
    "    cv2.imshow(\"WindowFrame\", frame)\n",
    "    k=cv2.waitKey(1)\n",
    "#Capturing 101 images from webcam.    \n",
    "    if c>100:\n",
    "        break\n",
    "video.release()\n",
    "cv2.destroyAllWindows()\n",
    "    "
   ]
  },
  {
   "cell_type": "markdown",
   "id": "643f8edf",
   "metadata": {},
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "6a8e4e55",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.9.13"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
